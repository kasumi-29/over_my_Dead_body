# 俺の屍を超えられない プラグイン
## 概要
minecraftの bukkit/spigot サーバーで利用できるサーバープラグインです。
このプラグインでは、過去に一度死んだ場所（危険地帯）へ、もう一度入ると強制的に殺されてしまいます。
なお、このプラグインでは、死んだ場所が全員で共有されるため、自身が死んだ場所でなくとも、注意が必要です。  

なお初期スポーン周辺には、岩盤で出来た安全地帯が生成されます。
この安全地帯の中で死んだとしても、危険地帯にならないため、リスポーンキルは回避できます。

## 追加されるコマンド
このプラグインでは、以下の4つのコマンドが追加されます。

- set-safezone  
実行方法： `/set-safezone`  
実行可能： オペレーター権限  
　  
実行したプレイヤーが今、居る位置を中心として、安全地帯を生成します。
なお安全地帯を新しく生成すると、初期スポーンもその場所に変更されます。
また、このコマンドを実行して安全地帯に登録された場合、同時に危険地帯からも削除されます。
つまり、安全地帯は常に安全であるということです。

- save-locate  
実行方法： `/save-locate`  
実行可能： オペレーター権限  
　  
このプラグインは、危険地帯として登録されている座標と安全地帯として登録されている座標をファイルに書き出して、
サーバーの再起動後なども引き続き遊べるようになっています。
通常、 `/stop` 実行時（サーバー終了時）にファイルへのセーブが行われますが、強制的にセーブしたい場合に、このコマンドを使用します。

- load-locate  
実行方法： `/load-locate`  
実行可能： オペレーター権限  
　  
このプラグインは、危険地帯として登録されている座標と安全地帯として登録されている座標をファイルから読み込んで、
サーバーの再起動後なども引き続き遊べるようになっています。
通常、サーバー起動時にファイルが存在すれば、自動的に読み込みますが、強制的にロードしたい場合に、このコマンドを使用します。

- info-locate  
実行方法： `/info-locate`  
実行可能：オペレーター権限  
　  
初期スポーン、危険地帯のブロック数、安全地帯のブロック数についての情報を表示する。

## 詰んだ場合
このプラグインを導入していると詰む場合があります。例えば以下のような場合です。
- 荒らしによって、安全地帯をぐるっと囲むように危険地帯へ登録された
- ベッド周辺が危険地帯と化してしまい、リスポーンした直後に死亡する
- 誤って危険地帯の中で `/setworldspawn` または `/spawn` コマンドを実行してしまった

これらの場合でも、必ずしも詰みとは限りません。
安全地帯の中に十分な資源があれば、ネザーゲートを作成し別のネザーゲートから脱出することにより、詰みを回避できます。
また、ベッドで寝てしまった場合も、同じサーバーで遊んでいる仲間にベッドを遠くから破壊してもらうことで
初期スポーン（安全地帯）から復活できます。  
ただ、どうしようも無くなった際は、OP権限を持つプレイヤーが、クリエイティブまたはスペクテイターになり、離れたところで `/set-safezone`
コマンドを実行すれば、チートを用いて詰みを回避することが出来ます。  
**（クリエイティブ および スペクテイターになれば、このプラグインによって殺されることはありません）**

## その他
- 生成される安全地帯の大きさは `config.yml` の `default_safeZone` の値で調整できます。この値は `0` から `16`
までの値以外、認められていません。デフォルトでは3が指定されています。
- 危険地帯の座標と安全地帯の座標をセーブおよびロードする際、作成されるファイル名を  `config.yml`
で指定することが出来ます。危険地帯の座標は `death_path` に、安全地帯の座標は `safe_path`
に記載されています。
- パス名を指定する際はサーバーの実行ファイル（ `eula.txt` と同じ階層にあります）からの相対パス、または絶対パスで指定します。
デフォルトでは `config.yml` と同じ階層に生成されます。
- 前述の通り、 `/setworldspawn` または `/spawn` コマンドを実行する場合は、詰む可能性があるため、警告が表示されます。
ただし、コマンド自体は正常に実行されます。

## 遊び方の例
- 新規ワールドで、一種の縛りプレイとしてエンドラ攻略等を楽しむと良いでしょう。
また、人数が少ない場合や縛りをキツくしたい場合は、スポーン時のHPを調整が出来る他プラグインと組み合わせたり、 `/effect give @a minecraft:poison 1 5`
をコマンドブロック（リピート）で実行しておくと、非常にスリリングな冒険が楽しめるかもしれません。
- いわゆるPVPマップと組み合わせても、面白いかもしれません。
敵味方、入り乱れつつ、どこに危険地帯があるかわからないため、プレイヤーがどこで死亡したか、といった戦況を常に把握しなければ戦えないでしょう。
特に大人数で行うと楽しめるかもしれません。

## 動作確認済環境
- 推奨環境  
Java 13 , CraftBukkit 1.16.2

**（JavaまたはCraftBukkit のバージョンによっては動かない場合があります）**

## リファレンス
- [Javadoc](https://kasumi-29.github.io/over_my_Dead_body/Docs/index.html)

## ダウンロード
- [ ダウンロードはこちら ](https://github.com/kasumi-29/over_my_Dead_body/releases/tag/v2.1.0)
